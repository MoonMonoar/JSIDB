window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,window.indexedDB||console.warn("JS IDB: Browser dose not support any stable version of IndexedDB.");class jsidb{create(n,e,o,i=1,d){if(!n||!o||!e)return console.warn("JS IDB _CREATE: Parameters are not satisfied."),!1;var a=window.indexedDB.open(n,i);return a.onerror=function(e){console.warn("JS IDB _CREATE: Error creating database("+n+")"),window.idb_available=0},a.onsuccess=function(n){console.warn("JS IDB _CREATE: IDB SUCCESS(INITIATED ALL STORES)"),window.jsidb_main=n.target.result,window.idb_available=1},a.onupgradeneeded=function(n){for(let d=0;d<e.length;d++){window.jsidb_main=n.target.result;var i=window.jsidb_main.createObjectStore(e[d],{keyPath:o[d]})}if(d)for(var a in d)i.add(d[a])},!0}addobj(n,e){return!(!n||!e)&&(window.jsidb_main.transaction([n],"readwrite").objectStore(n).add(e).onerror=function(e){console.warn("JS IDB _ADDOBJ: Transaction error on object "+n)},!0)}delobj(n,e){if(!n||!e)return!1;window.jsidb_main.transaction([n],"readwrite").objectStore(n).delete(e).onsuccess=function(n){return!0}}updateobj(n,e,o){this.delobj(n,e),this.addobj(n,o)}}